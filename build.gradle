plugins {
  alias(libs.plugins.download)
  alias(libs.plugins.compress)
}

task downloadUpx(type: Download) {
  src "https://github.com/upx/upx/releases/download/v${upx_version}/upx-${upx_version}-amd64_linux.tar.xz"
  dest new java.io.File(buildDir, "upx.tar.xz")
  onlyIfModified true
}

task extractUpx(dependsOn: downloadUpx, type: Copy) {
  from commonsCompress.tarXzTree(downloadUpx.dest)
  into "$buildDir"
}
